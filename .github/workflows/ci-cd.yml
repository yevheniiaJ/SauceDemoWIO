jobs:
  build:
    runs-on: ubuntu-latest

    steps:
      # ✅ 1: Checkout репозиторію
      - name: Checkout code
        uses: actions/checkout@v3

      # ✅ 2: Встановлення Node.js
      - name: Set up Node.js
        uses: actions/setup-node@v2
        with:
          node-version: '18'

      # ✅ 3: Встановлення залежностей
      - name: Install dependencies
        run: npm ci

      # ✅ 4: **Завантаження кешу кук (до запуску тестів)**
      - name: Load Cached Cookies
        uses: actions/cache@v3
        with:
          path: cookies.json
          key: cookies-${{ github.run_id }}

      # ✅ 5: Запуск тестів WebdriverIO
      - name: Run WebdriverIO tests
        run: npx wdio run wdio.conf.ts
